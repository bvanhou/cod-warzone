(this["webpackJsonpcod-warzone"]=this["webpackJsonpcod-warzone"]||[]).push([[0],{27:function(t,e,n){},48:function(t,e,n){},49:function(t,e,n){"use strict";n.r(e);var c=n(1),i=n(0),a=n.n(i),s=n(17),r=n.n(s),o=(n(27),n(6)),h=n(8),l=n.n(h),u=n(18),d=n(19),b=n(3),f=(new Path2D("M0 200 v-200 h200 a100,100 90 0,1 0,200 a100,100 90 0,1 -200,0 z"),window.innerWidth),j=window.innerHeight;var p=function(){var t;function e(e,n,c,i,a,s,r,o,h){return t=e,this.x=c,this.y=i,this.id=n,this.width=a,this.height=s,this.fill=r||"gray",this.stroke=o||"skyblue",this.strokewidth=h||2,this.redraw(this.x,this.y),this}return e.prototype.redraw=function(t,e){return this.x=t||this.x,this.y=e||this.y,this.draw(this.stroke),this},e.prototype.highlight=function(t,e){return this.x=t||this.x,this.y=e||this.y,this.draw("orange"),this},e.prototype.draw=function(e){t.save(),t.beginPath(),t.fillStyle=this.fill,t.strokeStyle=e,t.lineWidth=this.strokewidth,t.rect(this.x,this.y,this.width,this.height),t.stroke(),t.fill(),t.restore()},e.prototype.isPointInside=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},e}();var x=n(20),v=n.n(x),g=n(21),O=n.n(g),w=n.p+"static/media/map-overview-bg.ccfc7476.jpg",y=(n(48),v.a.create({baseURL:"https://3lg34173h3.execute-api.us-east-1.amazonaws.com/dev/recon"}));var k=function(){var t=function(){var t=Object(i.useRef)(null),e=Object(i.useRef)(null),n=Object(i.useState)([]),c=Object(b.a)(n,2),a=c[0],s=c[1],r=Object(i.useState)({}),o=Object(b.a)(r,2),h=o[0],l=o[1],u=Object(i.useState)(!1),d=Object(b.a)(u,2),x=(d[0],d[1]);return Object(i.useEffect)((function(){t.current.getContext("2d"),e.current,a[a.length-1];var n=[];n.push(new p("Red-Rectangle",15,35,65,60,"red","black",10)),n.push(new p("Green-Rectangle",60,80,70,50,"green","black",10)),n.push(new p("Blue-Rectangle",125,25,25,25,"blue","black",10))})),[e,a,s,t,f,j,x,h,l]}(),e=Object(b.a)(t,8),n=e[0],a=e[1],s=e[2],r=e[3],h=e[4],x=e[5],v=e[6],g=e[7],k=Object(i.useState)({}),m=Object(b.a)(k,2),C=m[0],S=m[1],R=Object(i.useState)({}),M=Object(b.a)(R,2),N=M[0],z=M[1],E=Object(i.useState)(!1),I=Object(b.a)(E,2),P=I[0],B=I[1];window.addEventListener("contextmenu",(function(t){t.preventDefault()}),!1);var F=function(){var t=Object(d.a)(l.a.mark((function t(){var e,n,c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=a.length,n=Object(u.a)(a),t.prev=2,n.s();case 4:if((c=n.n()).done){t.next=12;break}if(!(i=c.value).id){t.next=9;break}return t.next=9,y.delete("".concat(i.id));case 9:--e||s([]);case 10:t.next=4;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),n.e(t.t0);case 17:return t.prev=17,n.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[2,14,17,20]])})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){y.get().then((function(t){var e=t.data;v(!0),s(e)}))}),[s,v]),Object(c.jsxs)("main",{id:"container",className:"App-main",children:[Object(c.jsx)("img",{src:w,className:"img-warzone",alt:"logo"}),Object(c.jsx)("canvas",{className:"App-canvas",ref:r,width:h,height:x,onClick:function(t){v(!1);var e={id:null,parentId:null,x:100/(h/t.clientX),y:100/(x/t.clientY),type:null};console.log(g),console.log(e),console.log(N),O.a.isEmpty(g)?(console.log("test"),S(e),s([].concat(Object(o.a)(a),[e]))):(console.log("yay"),S(g),z(g),s([].concat(Object(o.a)(a),[e])))}}),Object(c.jsxs)("div",{ref:n,id:"contextMenu",children:[!P&&Object(c.jsx)("div",{className:"contextMenu--contract",onClick:function(t){},children:"Start Contract"}),"contract"===g.type&&Object(c.jsx)("div",{className:"contextMenu--recon",onClick:function(){B(!0)},children:"Add Recon"}),P&&Object(c.jsx)("div",{className:"contextMenu--remove",onClick:function(){var t=a.filter((function(t){return t.x!==C.x&&t.y!==C.y}));"recon"===C.type&&B(!1),s(Object(o.a)(t))},children:"Remove"})]}),Object(c.jsx)("div",{className:"clearButton",style:{zIndex:1e3},children:Object(c.jsx)("button",{onClick:function(t){F()},children:" Clear Map "})})]})},m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),i(t),a(t),s(t)}))};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(k,{})}),document.getElementById("root")),m()}},[[49,1,2]]]);
//# sourceMappingURL=main.cfae4553.chunk.js.map